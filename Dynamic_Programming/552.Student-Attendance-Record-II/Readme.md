### 552.Student-Attendance-Record-II

此题明显要用DP，但是如何设计状态和状态转移方程都非常难想。但最终的解法其实也非常巧妙，原来用到了多元状态的转移。

任何一种排列，可以归结为六种状态：a0l0,a0l1,a0l2,a1l0,a1l1,a1l2. 对于任意状态ailj：其中i表示这个数列里absence出现的次数，显然对于一个valid的数列，i的范围只能是0和1；j表示这个数列里末尾连续出现late的次数，显然对于一个valid的数列，i的范围只能是0，1，2。这就是六种状态的定义。

显然我们可以发现，随着record长度的增加，序列的状态就是在这六种之间转移。规律如下：
```
新状态   旧状态
a0l2  =  a0l1  // a0l2只可能由a0l1转变而来
a0l1  =  a0l0
a0l0  =  a0l0+a0l1+a0l2 // 注意，如果遇到一个P就可以清空之前末尾的L
a1l2  =  a1l1
a1l1  =  a1l0
a1l0  =  a1l0+a1l1+a1l2+a0l0+a0l1+a0l2 // 注意，如果遇到一个A，同样认为可以清空之前末尾的L

这样的动态规划不需要dp数组，只要用几个变量记录当前的状态即可。随着长度的增加，这些新状态根据之前的旧状态就能更新。

另外，注意需要用临时变量把所有的旧状态保存下来，再来更新状态。

类似的DP题目还有：
714.Best-Time-to-Buy-and-Sell-Stock-with-Transaction-Fee    
487.Max Consecutive Ones II   
376.Wiggle Subsequence    
只不过用两个状态变量就够了：
